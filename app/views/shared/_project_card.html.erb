<%
card_type ||= nil
classes = ["project-card",
          project.eliminated? ? 'project-card-eliminated' : '',
          card_type == :winner_large ? 'project-card-winner-large' : '',
          card_type == :winner ? 'project-card-winner' : ''
         ].join(' ')
%>
<div class='<%= classes %>'>

  <%= link_to project_path(project), title: project.name  do %>
    <div class='card-image' style='background-image: url(<%= project.card_image_url || "http://placehold.it/640x480"%>)'>
    </div>
  <% end %>

  <div class='card-content'>
    <div class='card-project-title'>
      <%= link_to project.name, project_path(project), title: project.name %>
    </div>
    <p class='card-description'><%= truncate(project.blurb, length: 140)%></p>
  </div>

  <div class='card-footer'>
    <span class='card-points'>
      <% if project.respond_to?(:rank) && project.rank.present? %>
        <%= project.rank.ordinalize %> place
      <% end %>
    </span>
    <%= link_to 'learn more', project_path(project), class: 'card-learn-more' %>
  </div>
</div>
